<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="libs/vue.js"></script>
    <script type="module" src="js/game.js" defer></script>
    <title>More Letters</title>
  </head>
  <body>
    <div id="app" class="container">
      <div class="top-links">
        <div class="row">
          <div class="column footer-link align-right">
            <a @click="newGame()">new game</a>
          </div>
        </div>
      </div>
      <transition name="fade">
        <img v-show="phase == 1" src="assets/bgs/1.png" class="background bg1">
      </transition>
      <transition name="fade">
        <img v-show="phase == 2" src="assets/bgs/2.png" class="background bg2">
      </transition>
      <transition name="fade">
        <img v-show="phase > 2" src="assets/bgs/3.png" class="background bg3">
      </transition>

      <div class="timed-event"></div>

      <div class="row main-stat">
        ${{ format(round(money)) }}
      </div>
      
      <div class="row stats">
        <stat name="letters" :value="format(floor(letters))"></stat>
        <stat name="letters delivered" :value="format(floor(lettersDelivered))"></stat>
        <stat name="letters per second" :value="format(lettersPerSecond)"></stat>
        <stat name="letters per click" :value="format(round(clickInc))"></stat>
      </div>
      
      <div class="row stats">
        <stat v-show="phase >= 1" name="mailmen" :value="format(mailmen)"></stat>
        <stat v-show="phase >= 1" name="multiplier" :value="format(multiplier)"></stat>
        <stat v-show="phase >= 1" name="mailboxes" :value="format(mailboxes)"></stat>
        <stat v-show="phase >= 2" name="recruiters" :value="format(recruiters)"></stat>
        <stat v-show="phase >= 2" name="factories" :value="format(factories)"></stat> 
      </div>
      <div class="row stats">
       <stat v-show="phase >= 3" name="segways" :value="format(segways)"></stat>
      </div>
      
      <div class="milestone">
        <div class="row">
          <div class="column" v-if="this.nextPhaseAvailable">
            <div class="button" @click="prestige()">
              <div class="button-name">
                Enter Phase {{ phase + 1 }}
              </div>
              <div class="button-description">
                This will erase all your progress and give you a 
                x{{ 2 ** (phase) }} multiplier.
              </div>
            </div>
          </div>
          <div v-else class="column">
            Next milestone at {{ format(nextPhaseAt) }} letters delivered
          </div>
        </div>
      </div>
      <div class="buttons">
        <div class="row">
          <div class="column">
            <div class="button" @click="clickDeliver">
              Deliver Letter
            </div>
          </div>
        </div>
        
        <transition name="fade">
          <div v-show="phase >= 1">
            <div class="row">
              <buy-button 
                 title="Mailman"
                 @buy="buyMailman()"
                 :price="format(mailmanPrice)"
                 :description="`Mailmen deliver ${mailmanDelivery} ${mailmanDelivery > 1 ? 'letters' : 'letter'} per mailman automatically every ${round(mailmanDelay / 1000)} seconds.`"
                 :max-buy="true"
                 @buy-max="buyMax(buyMailman)">
              </buy-button>
              <buy-button
                 title="Mailbox"
                 @buy="buyMailbox()"
                 @buy-max="buyMax(buyMailbox)"
                 :price="format(mailboxPrice)"
                 :max-buy="true"
                 :description="`Increases number of letters per second by ${mailboxLettersIncrease}`">
              </buy-button>
            </div>

            <div class="row" v-show="phase >= 1">
              <buy-button
                 title="Bootstrap"
                 @buy="buyBootstrap()"
                 @buy-max="buyMax(buyBootstrap)"
                 :price="format(bootstrapPrice)"
                 :description="`Increases letters per click by ${bootstrapDelivery} but reduces mailman efficiency by ${bootstrapMailmanHit * 100}%`"
                 :max-buy="true">
              </buy-button>
            </div>
          </div>
        </transition>
        
        <transition name="fade">
          <div class="row" v-show="phase >= 2 && phaseType[1] == 'idle'">
            <buy-button
               title="Recruiter"
               @buy="buyRecruiter()"
               @buy-max="buyMax(buyRecruiter)"
               :max-buy="true"
               :price="format(recruiterPrice)"
               :max-buy="true"
               :description="`Hires ${recruiterHire} mailmen per recruiter every ${recruiterDelay / 1000} seconds. Hiring does not cost money.`" 
            ></buy-button>

            <buy-button
               title="Factory"
               @buy="buyFactory()"
               @buy-max="buyMax(buyFactory)"
               :max-buy="true"
               :price="format(factoryPrice)"
               :description="`Generates ${factoryGenerate} ${factoryGenerate == 1 ? 'letter' : 'letters'} per factory every ${factoryDelay / 1000} seconds`"
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 2 && phaseType[1] == 'active'">
            <buy-button
                title="Factory"
                @buy="buyFactory()"
                @buy-max="buyMax(buyFactory)"
                :max-buy="true"
                :price="format(factoryPrice)"
                :description="`Generates ${factoryGenerate} ${factoryGenerate == 1 ? 'letter' : 'letters'} per factory every ${factoryDelay / 1000} seconds`"
            ></buy-button>
              
            <buy-button
              title="2 for 1"
              @buy="buyTwoHands()"
              :owned="twoHands"
              :price="format(twoHandsBasePrice)"
              :description="`Each delivery click has a ${twoHandsChance * 100}% chance of deliverying ${twoHandsMultiplier}x the amount of letters.`"
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 3 && phaseType[2] == 'idle'">
            <buy-button
               title="Segway"
               @buy="buySegway()"
               @buy-max="buyMax(buySegway)"
               :price="format(segwayPrice)"
               :description="`Increases mailman efficiency by ${segwayMailmanBoost * 100} for every segway purchased.`"
            ></buy-button> 
            
            <buy-button
               title="Scientific Management"
               @buy="buyScientificManagement()"
               :owned="scientificManagement"
               :price="format(scientificManagementBasePrice)"
               description="Reduces the time it take for factories to generate mailboxes by 50%"
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 3 && phaseType[2] == 'active'">
            <buy-button
               title="Scientific Management"
               @buy="buyScientificManagement()"
               :owned="scientificManagement"
               :price="format(scientificManagementBasePrice)"
               description="Reduces the time it take for factories to generate mailboxes by 50%"
            ></buy-button>

            <buy-button
               title="Two Hands"
               description="Doubles Bootstrap's letters per click interval"
            ></buy-button>
          </div>
        </transition>

       <transition name="fade">
          <div class="row" v-show="phase >= 4 && phaseType[3] == 'idle'">
            <buy-button
              title="Mail Truck"
              description="Automatically delivers 2 letters every 0.5 seconds" 
            ></buy-button> 
            
            <buy-button
              title="Post Office"
              description="Generates two letters every 0.5 seconds."
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 4 && phaseType[3] == 'active'">
            <buy-button
               title="Little Help"
               description="Random chance of hiring a mailman every delivery click."
            ></buy-button>

            <buy-button
              title="Post Office"
              description="Generates two letters every 0.5 seconds."
            ></buy-button>
          </div>
        </transition>
       
        <transition name="fade">
          <div class="row" v-show="phase >= 5 && phaseType[4] == 'idle'">
            <buy-button
              title="Email"
              description="Accept letters via the internet. Increases letters per second by 60%" 
            ></buy-button> 
            
            <buy-button
              title="Caffeine"
              description="Every mailman gets put on a madatory drip of high octane espresso. Increases mailman efficiency by 30%"
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 5 && phaseType[4] == 'active'">
            <buy-button
               title="Spontaneous Generation"
               description="Random chance that clicking to deliver aletter will multiply your letters per click by 4 for that click."
            ></buy-button>

            <buy-button
              title="Email"
              description="Accept letters via the internet. Increases letters per second by 60%"
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 6 && phaseType[5] == 'idle'">
            <buy-button
              title="Jets"
              description="Jets deliver 10 letters every 0.5 seconds." 
            ></buy-button> 
            
            <buy-button
              title="Big Net"
              description="Capture all the messages in bottles that are floating around the ocean. Increases letters per second by 25%."
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 6 && phaseType[5] == 'active'">
            <buy-button
               title="Inflation"
               description="Increases the price per letter by 50%."
            ></buy-button>

            <buy-button
              title="Big Net"
              description="Capture all the messages in bottles that are floating around the ocean. Increases letters per second by 25%."
            ></buy-button>
          </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 7 && phaseType[6] == 'idle'">
            <buy-button
              title="Mail Drones"
              description="Unlease a swarm of mail delivering drones. Delivers 10 letters every 0.25 seconds." 
            ></buy-button> 
            
            <buy-button
              title="Mailware"
              description="Infect people's computers and phones with 'mailware' capturing letters before they are even sent! Increases letters per second by 25%"
            ></buy-button>
         </div>
        </transition>

        <transition name="fade">
          <div class="row" v-show="phase >= 7 && phaseType[6] == 'active'">
            <buy-button
               title="Self-Reliance"
               description="Increases bootstrap increment by 10."
            ></buy-button>

            <buy-button
              title="Mailware"
              description="Infect people's computers and phones with 'mailware' capturing letters before they are even sent! Increases letters per second by 25%"
            ></buy-button>
          </div>
        </transition>

      </div>
    </div>
  </body>
</html>
